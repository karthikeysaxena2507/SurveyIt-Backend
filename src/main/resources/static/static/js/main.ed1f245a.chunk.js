(this.webpackJsonpsurvey=this.webpackJsonpsurvey||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t),n.d(t,"registerUser",(function(){return o})),n.d(t,"loginUser",(function(){return u})),n.d(t,"getUserFromToken",(function(){return l}));var r=n(2),c=n.n(r),a=n(6),s=n(14),i=n.n(s),o=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("https://survey-it-up.herokuapp.com/api/v1/users/signup",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("https://survey-it-up.herokuapp.com/api/v1/users/signin",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("https://survey-it-up.herokuapp.com/api/v1/users/".concat(t),{headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},61:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(28),a=n.n(c),s=n(30),i=n(4),o=n(2),u=n.n(o),l=n(6),p=n(5),j=n(1),b=n(12),d=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=(t[0],t[1]),c=Object(r.useState)(!0),a=Object(p.a)(c,2),s=(a[0],a[1]);return Object(r.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.getUserFromToken(localStorage.getItem("token"));case 3:t=e.sent,n(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),window.location="/",console.log(e.t0);case 11:return e.prev=11,s(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsx)("div",{children:"This is the home page"})},h=n(12),m=function(e){var t=Object(r.useState)(""),n=Object(p.a)(t,2),c=(n[0],n[1]),a=Object(r.useState)(!0),s=Object(p.a)(a,2),i=(s[0],s[1]);return Object(r.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.getUserFromToken(localStorage.getItem("token"));case 3:t=e.sent,c(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),window.location="/",console.log(e.t0);case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsx)("div",{children:"This is the Edit page"})},x=function(){return Object(j.jsx)("div",{className:"text-center upper-margin",children:Object(j.jsx)("h1",{className:"mt-2",children:" Survey It "})})},v=(new Date).getFullYear(),O=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"space"}),Object(j.jsxs)("footer",{className:"text-center container",children:["Copyright @ Karthikey Saxena ",v]})]})},f=n(63),g=function(){return Object(j.jsx)("div",{className:"text-center",style:{marginTop:"320px"},children:Object(j.jsx)(f.a,{animation:"border",className:"mr-2",variant:"primary"})})},w=n.p+"static/media/main.a7fa05d1.jpg",k=n(12),y=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(p.a)(a,2),i=s[0],o=s[1],b=Object(r.useState)(""),d=Object(p.a)(b,2),h=d[0],m=d[1],v=Object(r.useState)(!0),f=Object(p.a)(v,2),y=f[0],N=f[1];Object(r.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.getUserFromToken(localStorage.getItem("token"));case 3:window.location="/home",e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.prev=9,N(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var S=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n||!i){e.next=11;break}return m("Signing In The User ..."),e.next=5,k.loginUser({username:n,password:i});case 5:t=e.sent,localStorage.setItem("token",t.token),m("User Validated"),window.location="/home",e.next=12;break;case 11:m("Fields cannot be empty");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),m("Invalid Credentials"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return y?Object(j.jsx)(g,{}):Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"text-center col-md-6",children:[Object(j.jsx)(x,{}),Object(j.jsx)("h2",{className:"mt-5",children:" Login to Your Account "}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"text",value:n,onChange:function(e){return c(e.target.value)},placeholder:"Username",autoComplete:"off",style:{width:"300px"},className:"mt-3 pt-2 pb-2 pr-2 pl-2",required:!0})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"password",value:i,onChange:function(e){return o(e.target.value)},placeholder:"Password",style:{width:"300px"},className:"mt-3 pt-2 pb-2 pr-2 pl-2",required:!0})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){return S()},className:"btn btn-dark mt-3 mb-3",children:" Login "})}),Object(j.jsx)("h4",{children:" OR "}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){return window.location="/register"},className:"btn btn-dark mt-3",children:" Register "})}),Object(j.jsx)("div",{className:"mt-3",children:Object(j.jsxs)("p",{children:[" ",h," "]})})]}),Object(j.jsxs)("div",{className:"text-center col-md-6 upper-margin",children:[Object(j.jsx)("div",{className:"text mb-3",children:"Create your own survey and vote on others!"}),Object(j.jsx)("img",{src:w,alt:"image not found",className:"img"})]})]}),Object(j.jsx)(O,{})]})},N=n(12),S=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(p.a)(a,2),i=s[0],o=s[1],b=Object(r.useState)(""),d=Object(p.a)(b,2),h=d[0],m=d[1],v=Object(r.useState)(""),f=Object(p.a)(v,2),k=f[0],y=f[1],S=Object(r.useState)(!0),C=Object(p.a)(S,2),U=C[0],T=C[1];Object(r.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.getUserFromToken(localStorage.getItem("token"));case 3:window.location="/home",e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.prev=9,T(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var I=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i&&n&&k)){e.next=9;break}return m("Registering The User"),e.next=5,N.registerUser({username:k,email:n,password:i});case 5:m("User Registered Successfully"),window.location="/",e.next=10;break;case 9:m("Fields cannot be empty");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),m("Account with above username or email already exists"),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return U?Object(j.jsx)(g,{}):Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"text-center col-md-6",children:[Object(j.jsx)(x,{}),Object(j.jsx)("h2",{className:"mt-5",children:" Register Your Account "}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"text",value:k,onChange:function(e){return y(e.target.value)},placeholder:"Username",autoComplete:"off",style:{width:"300px"},className:"mt-3 pt-2 pb-2 pr-2 pl-2",required:!0})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"email",value:n,onChange:function(e){return c(e.target.value)},placeholder:"Email",autoComplete:"off",style:{width:"300px"},className:"mt-3 pt-2 pb-2 pr-2 pl-2",required:!0})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"password",value:i,style:{width:"300px"},onChange:function(e){return o(e.target.value)},placeholder:"Password",className:"mt-3 pt-2 pb-2 pr-2 pl-2",required:!0})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){return I()},className:"btn btn-dark mt-3 mb-3",children:" Register "})}),Object(j.jsx)("h4",{children:" OR "}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){return window.location="/"},className:"btn btn-dark mt-3",children:" Login "})}),Object(j.jsx)("div",{className:"mt-3",children:Object(j.jsxs)("p",{children:[" ",h," "]})})]}),Object(j.jsxs)("div",{className:"text-center col-md-6 upper-margin",children:[Object(j.jsx)("div",{className:"text mb-3",children:"Create your own survey and vote on others!"}),Object(j.jsx)("img",{src:w,alt:"image not found",className:"img"})]})]}),Object(j.jsx)(O,{})]})},C=n(12),U=function(e){var t=Object(r.useState)(""),n=Object(p.a)(t,2),c=(n[0],n[1]),a=Object(r.useState)(!0),s=Object(p.a)(a,2),i=(s[0],s[1]);return Object(r.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getUserFromToken(localStorage.getItem("token"));case 3:t=e.sent,c(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),window.location="/",console.log(e.t0);case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsx)("div",{children:"This is the Create page"})},T=function(){return Object(j.jsxs)(s.a,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",component:y}),Object(j.jsx)(i.a,{exact:!0,path:"/home",component:d}),Object(j.jsx)(i.a,{exact:!0,path:"/create",component:U}),Object(j.jsx)(i.a,{exact:!0,path:"/edit/:id",component:m}),Object(j.jsx)(i.a,{exact:!0,path:"/register",component:S})]})};a.a.render(Object(j.jsx)(T,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.ed1f245a.chunk.js.map